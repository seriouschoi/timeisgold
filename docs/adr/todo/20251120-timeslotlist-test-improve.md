# 일정 목록 테스트 작성.

## 인텐트 정리.
중첩된 인텐트를 정리해야 테스트 시나리오가 나올것 같은데..
지금 인텐트 구조에선 좀 힘들 듯.
정리 완료.

## 테스트 작성.

## TimeSlotEdit – 선택 범위 처리 전략

TimeSlotEdit 화면의 선택 범위 로직은 다음과 같은 이유로 ViewModel/UseCase에 직접 두기 어렵다.

- 선택된 시간에 대한 처리
- 선택된 시간의 전/후 시간대 탐색
- 선택 가능 구간 계산, 겹침/공백 판단

이 로직들은 화면 상태 업데이트와 섞이면 ViewModel/UseCase가 비대해지고,
유틸 함수로 분리할 경우에는 맥락이 사라져 “정체를 알 수 없는 함수 모음”만 남게 된다.

처음에는 이를 “화면 인터랙션 전용 규칙”으로 보고 feature 모듈 내부에 두는 방식을 고려했지만,
실제로 구현해보면 시간/슬롯에 대한 도메인 규칙이 feature 레벨과 도메인 레벨에 분산되어
‘어디까지가 도메인 정책이고 어디부터가 단순 UI 편의인지’가 모호해지는 문제가 발생했다.

따라서 다음과 같이 원칙을 정한다.

1. **시간/슬롯 처리 규칙은 모두 도메인 계층의 service/logic/policy로 모은다.**
    - 예: `TimeSlotSelectionService`, `TimeRangePolicy`, `TimeSlotGapFinder` 등
    - 이 계층에서 “선택 가능 범위”, “겹침 여부”, “빈 구간 계산” 등을 모두 책임진다.

2. **UseCase는 도메인 서비스를 사용하는 진입점으로만 동작한다.**
    - 화면에서 시간 선택/편집이 발생하면 ViewModel/StateHolder는
      직접 로직을 구현하지 않고, UseCase 또는 도메인 서비스에 위임한다.
    - 이를 통해, 시간/슬롯 도메인 규칙은 한 곳에서만 관리된다.

3. **테스트는 아래 두 단계에서 작성한다.**
    - 도메인 service/policy의 순수 로직 테스트
    - 해당 service/policy를 사용하는 UseCase의 계약 테스트

이 구조를 통해 시간 처리 규칙이 UI/feature/유틸로 분산되는 것을 막고,
도메인 계층에 명시적으로 집약된 형태로 유지한다.